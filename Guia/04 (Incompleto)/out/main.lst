     1                                  %macro mPrintf 0
     2                                      sub rsp,8
     3                                      call printf
     4                                      add rsp,8
     5                                  %endMacro
     6                                  
     7                                  %macro mScanf 0
     8                                      sub rsp,8
     9                                      call scanf
    10                                      add rsp,8
    11                                  %endMacro
    12                                  
    13                                  
    14                                  global main
    15                                  extern printf
    16                                  extern scanf
    17                                  
    18                                  section .data
    19 00000000 496E67726573612031-         msgEj db "Ingresa 15 numeros:",10, 0
    19 00000009 35206E756D65726F73-
    19 00000012 3A0A00             
    20 00000015 256400                      msgFormato db "%d", 0
    21                                  
    22                                  section .bss
    23 00000000 <res 80h>                   numerosArray resd 32
    24 00000080 ????????                    numerosCount resd 1
    25                                  
    26                                  section .text
    27                                  main:
    28 00000000 48BF-                       mov rdi, msgEj
    28 00000002 [0000000000000000] 
    29                                      mPrintf
     2 0000000A 4883EC08            <1>  sub rsp,8
     3 0000000E E8(00000000)        <1>  call printf
     4 00000013 4883C408            <1>  add rsp,8
    30                                  
    31 00000017 C70425[80000000]00-         mov dword[numerosCount], 0
    31 0000001F 000000             
    32 00000022 BF00000000                  mov rdi, 0
    33                                  agregarNumero:
    34 00000027 833C25[80000000]05          cmp dword[numerosCount], 5
    35 0000002F 742E                        je imprimirNumeros
    36                                  
    37 00000031 48BF-                       mov rdi, msgFormato
    37 00000033 [1500000000000000] 
    38 0000003B 48BE-                       mov rsi, numerosArray
    38 0000003D [0000000000000000] 
    39                                      mScanf
     8 00000045 4883EC08            <1>  sub rsp,8
     9 00000049 E8(00000000)        <1>  call scanf
    10 0000004E 4883C408            <1>  add rsp,8
    40                                  
    41 00000052 FF0425[80000000]            inc dword[numerosCount]
    42 00000059 4883C604                    add rsi, 4
    43 0000005D EBC8                        jmp agregarNumero
    44                                  imprimirNumeros:
    45 0000005F BB00000000                  mov rbx,0
    46 00000064 488B3425[00000000]          mov rsi, [numerosArray]
    47 0000006C 48BF-                       mov rdi, msgFormato
    47 0000006E [1500000000000000] 
    48                                  imprimirNumero:
    49                                      mPrintf
     2 00000076 4883EC08            <1>  sub rsp,8
     3 0000007A E8(00000000)        <1>  call printf
     4 0000007F 4883C408            <1>  add rsp,8
    50                                  
    51 00000083 4883C301                    add rbx, 1
    52 00000087 4883C604                    add rsi, 4
    53 0000008B 483B1C25[80000000]          cmp rbx, [numerosCount]
    54 00000093 75E1                        jne imprimirNumero
    55                                  
    56 00000095 C3                          ret
